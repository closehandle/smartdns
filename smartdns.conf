server-name SmartDNS
resolv-hostname no
bind [::]:53
bind-tcp [::]:53
tcp-idle-time 30
cache-file /var/lib/smartdns/smartdns.bin
cache-size 4194304
cache-persist yes
cache-mem-size 134217728
cache-checkpoint-time 300
prefetch-domain yes
serve-expired yes
serve-expired-ttl 259200
serve-expired-reply-ttl 1
serve-expired-prefetch-time 86400
speed-check-mode none
dualstack-ip-selection no
rr-ttl 0
rr-ttl-min 120
rr-ttl-max 86400
rr-ttl-reply-max 86400
response-mode fastest-response
log-console yes
log-level fatal
log-file /dev/null
audit-console yes
audit-enable yes
audit-file /dev/null
ca-file /etc/ssl/certs/ca-certificates.crt
ca-path /etc/ssl/certs

address /msn.cn/0.0.0.0,::
address /msn.com/0.0.0.0,::

server 114.114.114.114:53 -b -e -g chinadns
server 114.114.115.115:53 -b -e -g chinadns
server 119.28.28.28:53    -b -e -g chinadns
server 119.29.29.29:53    -b -e -g chinadns
server 223.5.5.5:53       -b -e -g chinadns
server 223.6.6.6:53       -b -e -g chinadns

server-tls 1.0.0.1:853        -g otherdns
server-tls 1.1.1.1:853        -g otherdns
server-tls 8.8.4.4:853        -g otherdns
server-tls 8.8.8.8:853        -g otherdns
server-tls 208.67.220.220:853 -g otherdns
server-tls 208.67.222.222:853 -g otherdns

domain-set -name chinadns -type list -file /etc/smartdns/chinadns.list
domain-set -name otherdns -type list -file /etc/smartdns/otherdns.list

domain-rules /domain-set:chinadns/ -n chinadns
domain-rules /domain-set:otherdns/ -n otherdns -rr-ttl 86400
